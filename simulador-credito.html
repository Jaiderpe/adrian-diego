<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Cr√©dito - LexFinance</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/styles.css">
    <link rel="stylesheet" href="/assets/tools.css">
</head>
<body class="tool-page">
    <header class="tool-header">
        <a href="javascript:void(0)" class="back-link" onclick="showConfirmModal()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            Volver
        </a>
        <div class="logo">
            <div class="logo-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 3L2 8v13l10 5 10-5V8L12 3z"/>
                    <path d="M12 22v-9"/>
                </svg>
            </div>
            <span class="logo-text">LexFinance</span>
        </div>
    </header>

    <main class="tool-main">
        <div class="tool-container animate-fade-in">
            <!-- Hero del simulador -->
            <div class="tool-hero simulator-hero">
                <div class="tool-badge simulator">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 3v18h18"/>
                        <path d="M7 16l4-8 4 8 4-12"/>
                    </svg>
                    Simulaci√≥n Inteligente
                </div>
                <h1 class="tool-page-title">Simulador de Cr√©dito</h1>
                <p class="tool-page-subtitle">Calcula tu cr√©dito ideal con nuestro simulador avanzado. Compara opciones y toma decisiones informadas.</p>
            </div>

            <!-- Grid corregido usando clases existentes del CSS -->
            <div class="simulator-grid">
                <!-- Formulario -->
                <div class="simulator-form animate-slide-up">
                    <div class="form-section">
                        <h3 class="form-section-title">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="2" y="4" width="20" height="16" rx="2"/>
                                <line x1="2" y1="10" x2="22" y2="10"/>
                            </svg>
                            Configura tu Cr√©dito
                        </h3>
                        
                        <div class="form-group">
                            <label class="form-label">¬øEn qu√© vas a invertir tu cr√©dito?</label>
                            <select id="simPurpose" class="form-select large">
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="vivienda">üè† Vivienda</option>
                                <option value="vehiculo">üöó Veh√≠culo</option>
                                <option value="educacion">üìö Educaci√≥n</option>
                                <option value="negocio">üíº Negocio</option>
                                <option value="personal">üí∞ Libre Inversi√≥n</option>
                                <option value="consolidacion">üìä Consolidaci√≥n de Deudas</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">¬øCu√°nto dinero necesitas?</label>
                            <div class="input-with-icon">
                                <span class="input-prefix">$</span>
                                <input type="text" id="simMonto" class="form-input format-number" placeholder="1.000.000">
                            </div>
                            <div class="input-hint">Monto entre $500.000 y $500.000.000</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">¬øA qu√© plazo de pago?</label>
                            <select id="simPlazo" class="form-select">
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="12">12 meses (1 a√±o)</option>
                                <option value="24">24 meses (2 a√±os)</option>
                                <option value="36">36 meses (3 a√±os)</option>
                                <option value="48">48 meses (4 a√±os)</option>
                                <option value="60">60 meses (5 a√±os)</option>
                                <option value="72">72 meses (6 a√±os)</option>
                                <option value="84">84 meses (7 a√±os)</option>
                                <option value="120">120 meses (10 a√±os)</option>
                            </select>
                        </div>
                    </div>

                    <button class="btn-calculate simulator" id="btnSimular">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"/>
                        </svg>
                        Calcular Cr√©dito
                    </button>
                </div>

                <!-- Resultados -->
                <div class="simulator-results animate-slide-up" style="animation-delay: 0.2s;">
                    <div class="results-header">
                        <h3>Resumen de tu Cr√©dito</h3>
                    </div>
                    
                    <!-- Cuota mensual principal -->
                    <div class="result-card">
                        <div class="result-label">Cuota Mensual</div>
                        <div class="result-value" id="simCuotaMensual">$0</div>
                    </div>

                    <!-- Grid de resultados secundarios -->
                    <div class="form-row" style="margin-bottom: 1.5rem;">
                        <div class="probability-card">
                            <div class="probability-label">Total a Pagar</div>
                            <div class="probability-value" id="simTotalPagar" style="font-size: 1.5rem;">$0</div>
                        </div>
                        <div class="probability-card">
                            <div class="probability-label">Total Intereses</div>
                            <div class="probability-value" id="simTotalIntereses" style="font-size: 1.5rem; color: #b45309;">$0</div>
                        </div>
                    </div>

                    <!-- Distribuci√≥n del pago -->
                    <div class="result-section">
                        <div class="result-section-title">Distribuci√≥n del Pago</div>
                        <div class="analysis-factors">
                            <div class="factor-item">
                                <span class="factor-label">Capital</span>
                                <div class="factor-bar">
                                    <div class="factor-fill low" id="simCapitalBar" style="width: 0%"></div>
                                </div>
                                <span class="factor-value" id="simCapitalPercent">0%</span>
                            </div>
                            <div class="factor-item">
                                <span class="factor-label">Intereses</span>
                                <div class="factor-bar">
                                    <div class="factor-fill high" id="simInterestBar" style="width: 0%"></div>
                                </div>
                                <span class="factor-value" id="simInterestPercent">0%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Beneficios -->
                    <div class="recommendations-list" style="margin-top: 1rem;">
                        <div class="recommendation-item">
                            <svg class="recommendation-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                                <polyline points="22 4 12 14.01 9 11.01"/>
                            </svg>
                            <span class="recommendation-text">Sin comisiones ocultas</span>
                        </div>
                        <div class="recommendation-item">
                            <svg class="recommendation-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                                <polyline points="22 4 12 14.01 9 11.01"/>
                            </svg>
                            <span class="recommendation-text">Aprobaci√≥n r√°pida</span>
                        </div>
                        <div class="recommendation-item">
                            <svg class="recommendation-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                                <polyline points="22 4 12 14.01 9 11.01"/>
                            </svg>
                            <span class="recommendation-text">Tasas competitivas (0.9% mensual)</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tool-info animate-fade-in" style="animation-delay: 0.4s;">
                <div class="info-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="16" x2="12" y2="12"/>
                        <line x1="12" y1="8" x2="12.01" y2="8"/>
                    </svg>
                </div>
                <p>Esta es una simulaci√≥n aproximada con tasa del 0.9% mensual. Las tasas reales pueden variar seg√∫n tu perfil crediticio y la entidad financiera.</p>
            </div>
        </div>
    </main>

    <!-- Modal de confirmaci√≥n -->
    <div id="confirmModal" class="confirm-modal">
        <div class="confirm-modal-overlay" onclick="hideConfirmModal()"></div>
        <div class="confirm-modal-content">
            <div class="confirm-modal-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="12"/>
                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                </svg>
            </div>
            <h3 class="confirm-modal-title">¬øQuieres irte?</h3>
            <p class="confirm-modal-text">¬øQuieres perder esta oportunidad de hacer tu operaci√≥n en vivo?</p>
            <div class="confirm-modal-buttons">
                <button class="btn-confirm-stay" onclick="hideConfirmModal()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12 6 12 12 16 14"/>
                    </svg>
                    Quedarme
                </button>
                <button class="btn-confirm-leave" onclick="goBack()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                        <polyline points="16 17 21 12 16 7"/>
                        <line x1="21" y1="12" x2="9" y2="12"/>
                    </svg>
                    Salir
                </button>
            </div>
        </div>
    </div>

    <script src="/assets/tools.js"></script>
    <script>
        function showConfirmModal() {
            document.getElementById('confirmModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function hideConfirmModal() {
            document.getElementById('confirmModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        function goBack() {
            window.location.href = 'index.html';
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                hideConfirmModal();
            }
        });
    </script>
</body>
</html>
